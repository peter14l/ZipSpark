<?xml version="1.0" encoding="utf-8"?>
<ContentDialog
    x:Class="ZipSpark_New.PasswordDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Password Required"
    PrimaryButtonText="OK"
    CloseButtonText="Cancel"
    DefaultButton="Primary">

    <StackPanel Spacing="16" Padding="0,8,0,0">
        <!-- Icon and Message -->
        <StackPanel Orientation="Horizontal" Spacing="12">
            <FontIcon Glyph="&#xE72E;" FontSize="24" Foreground="{ThemeResource SystemAccentColor}"/>
            <TextBlock 
                Text="This archive is password protected"
                VerticalAlignment="Center"
                TextWrapping="Wrap"/>
        </StackPanel>

        <!-- Archive Name -->
        <TextBlock 
            x:Name="ArchiveNameText"
            Text=""
            Style="{StaticResource CaptionTextBlockStyle}"
            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
            TextWrapping="Wrap"/>

        <!-- Password Input -->
        <StackPanel Spacing="8">
            <TextBlock Text="Password" FontWeight="SemiBold"/>
            <PasswordBox 
                x:Name="PasswordInput"
                PlaceholderText="Enter password"
                PasswordRevealMode="Peek"
                KeyDown="PasswordInput_KeyDown"/>
        </StackPanel>

        <!-- Remember Password -->
        <CheckBox 
            x:Name="RememberPasswordCheckBox"
            Content="Remember password for this session"
            IsChecked="True"/>

        <!-- Error Message -->
        <InfoBar
            x:Name="ErrorInfoBar"
            Severity="Error"
            IsOpen="False"
            IsClosable="True"
            Message="Incorrect password. Please try again."/>
    </StackPanel>
</ContentDialog>
