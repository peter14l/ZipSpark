<?xml version="1.0" encoding="utf-8"?>
<ContentDialog
    x:Class="ZipSpark_New.CreateArchiveDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ZipSpark_New"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Create Archive"
    PrimaryButtonText="Create"
    CloseButtonText="Cancel"
    DefaultButton="Primary"
    PrimaryButtonClick="OnPrimaryButtonClick"
    CloseButtonClick="OnCloseButtonClick"
    MinWidth="480">

    <StackPanel Spacing="20" Padding="4">
        
        <!-- File Summary Card -->
        <Border 
            Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
            CornerRadius="8"
            Padding="16">
            <Grid ColumnSpacing="16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <FontIcon 
                    Grid.Column="0"
                    Glyph="&#xE8B7;"
                    FontSize="32"
                    Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"
                    VerticalAlignment="Center"/>
                
                <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                    <TextBlock 
                        x:Name="FileCountText"
                        Text="0 files selected"
                        Style="{StaticResource BodyStrongTextBlockStyle}"/>
                    <TextBlock 
                        x:Name="FileSizeText"
                        Text="Calculating size..."
                        Style="{StaticResource CaptionTextBlockStyle}"
                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Archive Name -->
        <StackPanel Spacing="8">
            <TextBlock Text="Archive Name" Style="{StaticResource BodyStrongTextBlockStyle}"/>
            <TextBox 
                x:Name="ArchiveNameBox"
                PlaceholderText="Enter archive name"
                HorizontalAlignment="Stretch"/>
        </StackPanel>
        
        <!-- Format Selection -->
        <StackPanel Spacing="8">
            <TextBlock Text="Archive Format" Style="{StaticResource BodyStrongTextBlockStyle}"/>
            <ComboBox 
                x:Name="FormatComboBox"
                HorizontalAlignment="Stretch"
                SelectedIndex="0">
                <ComboBoxItem Content="ZIP (.zip)" Tag=".zip"/>
                <ComboBoxItem Content="7-Zip (.7z)" Tag=".7z"/>
                <ComboBoxItem Content="TAR.GZ (.tar.gz)" Tag=".tar.gz"/>
                <ComboBoxItem Content="TAR (.tar)" Tag=".tar"/>
            </ComboBox>
        </StackPanel>
        
        <!-- Destination -->
        <StackPanel Spacing="8">
            <TextBlock Text="Save To" Style="{StaticResource BodyStrongTextBlockStyle}"/>
            <Grid ColumnSpacing="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox 
                    x:Name="DestinationBox"
                    Grid.Column="0"
                    PlaceholderText="Destination folder"
                    IsReadOnly="True"/>
                <Button 
                    x:Name="BrowseButton"
                    Grid.Column="1"
                    Click="BrowseButton_Click"
                    ToolTipService.ToolTip="Browse for folder">
                    <SymbolIcon Symbol="OpenLocal"/>
                </Button>
            </Grid>
        </StackPanel>
        
        <!-- Compression Level -->
        <StackPanel Spacing="8">
            <Grid>
                <TextBlock Text="Compression Level" Style="{StaticResource BodyStrongTextBlockStyle}"/>
                <TextBlock 
                    x:Name="CompressionLevelText"
                    Text="Normal"
                    HorizontalAlignment="Right"
                    Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
            </Grid>
            <Slider 
                x:Name="CompressionSlider"
                Minimum="0"
                Maximum="3"
                StepFrequency="1"
                TickFrequency="1"
                TickPlacement="Outside"
                Value="2"
                ValueChanged="CompressionSlider_ValueChanged"/>
            <Grid>
                <TextBlock 
                    Text="Store" 
                    Style="{StaticResource CaptionTextBlockStyle}"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    HorizontalAlignment="Left"/>
                <TextBlock 
                    Text="Best" 
                    Style="{StaticResource CaptionTextBlockStyle}"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    HorizontalAlignment="Right"/>
            </Grid>
        </StackPanel>
        
    </StackPanel>
</ContentDialog>
